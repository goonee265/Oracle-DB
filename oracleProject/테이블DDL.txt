CREATE TABLE MUSIC (
  M_CODE VARCHAR2(10) CONSTRAINT PK_MUSIC PRIMARY KEY,
  S_CODE VARCHAR2(10) CONSTRAINT NN_MUSIC_S_CODE NOT NULL,
  A_CODE VARCHAR2(10) CONSTRAINT NN_MUSIC_A_CODE NOT NULL,
  TITLE VARCHAR2(70) CONSTRAINT NN_MUSIC_TITLE NOT NULL,
  GENRE VARCHAR2(20) CONSTRAINT CK_MUSIC_GENRE CHECK ( GENRE IN ('POP', 'RnB/Soul', '댄스', '랩/힙합', '록/메탈', '발라드', '인디음악', '트로트')),
  M_TYPE VARCHAR2(20) CONSTRAINT CK_MUSIC_M_TYPE CHECK ( M_TYPE IN ('국내','해외'))
);

CREATE TABLE SINGER (
  S_CODE VARCHAR2(10) CONSTRAINT PK_SINGER PRIMARY KEY,
  S_NAME VARCHAR2(50) CONSTRAINT NN_SINGER_S_NAME NOT NULL,
  LABELS VARCHAR2(50),
  DEBUT VARCHAR2(20) CONSTRAINT NN_SINGER_DEBUT NOT NULL,
  SEX VARCHAR2(20) CONSTRAINT CK_SINGER_SEX CHECK ( SEX IN ('F','M','G')),
  MEMBER_COUNT NUMBER(10) CONSTRAINT NN_SINGER_MEMBER_COUNT NOT NULL
);

CREATE TABLE ALBUM (
  A_CODE VARCHAR2(10) CONSTRAINT PK_ALBUM_A_CODE PRIMARY KEY,
  A_NAME VARCHAR2(70) CONSTRAINT NN_ALBUM_A_NAME NOT NULL,
  R_DATE DATE CONSTRAINT NN_ALBUM_R_DATE NOT NULL
);

CREATE TABLE MEMBER (
  MEM_CODE VARCHAR2(20) CONSTRAINT PK_MEMBER PRIMARY KEY,
  MEM_NAME VARCHAR2(20) CONSTRAINT NN_MEMBER_MEM_NAME NOT NULL,
  ID VARCHAR(20) CONSTRAINT U_MEMBER_ID UNIQUE,
  PASSWORD VARCHAR(20) CONSTRAINT NN_MEMBER_PW NOT NULL,
  JUMIN VARCHAR(20) CONSTRAINT NN_MEMBER_JUMIN NOT NULL CONSTRAINT U_MEMBER_JUMIN UNIQUE CONSTRAINT CK_MEMBER_JUMIN CHECK (LENGTH(JUMIN)=13),
  EMAIL VARCHAR(50) CONSTRAINT NN_MEMBER_EMAIL NOT NULL
);

CREATE TABLE SALES (
  MEM_CODE VARCHAR2(10) CONSTRAINT NN_SALES NOT NULL,
  M_CODE VARCHAR2(10) CONSTRAINT NN_SALES_M_CODE NOT NULL,
  BUY_DATE DATE CONSTRAINT NN_BUY_DATE NOT NULL,
  P_CODE VARCHAR2(20) CONSTRAINT NN_SALES_P_CODE NOT NULL
);

CREATE TABLE SOUND_QUALITY (
  P_CODE VARCHAR2(10) CONSTRAINT PK_SOUND_QUALITY PRIMARY KEY,
  PRICE NUMBER(10) CONSTRAINT NN_SQ_PRICE NOT NULL CONSTRAINT CK_SQ_PRICE CHECK ( PRICE IN (500,300,200,100)),
  QUALITY VARCHAR2(20) CONSTRAINT NN_SQ_QUALITY NOT NULL CONSTRAINT CK_SQ_QUALITY CHECK ( QUALITY IN ('320K','192K','128K', 'AAC+'))
);

CREATE TABLE GRADE (
  RANK VARCHAR2(20) CONSTRAINT CK_GRADE_RANK CHECK ( RANK IN ('DIAMOND','GOLD','SILVER','BRONZE')),
  LOAMT NUMBER(10) CONSTRAINT NN_GRADE_LOAMT NOT NULL,
  HIAMT NUMBER(10) CONSTRAINT NN_GRADE_HIAMT NOT NULL
);